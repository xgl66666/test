#!/bin/sh
# Edit this file to change configuration for building opie
#
# To use this config file, export MAKEROOTFS_CONFIG=make-opie.conf
# prior to running ./2build-rootfs_staging.sh
#
# Author: Matthias Ihmig <m.ihmig@mytum.de>
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU Library General Public License as
# published by the Free Software Foundation; either version 2 of the
# License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# Library General Public License for more details.


################################################
### Global directory settings
################################################
#
# All source files available on the internet are automatically downloaded
# into this directory
# wget is used to download files. See man wget on how to setup proxy server
DOWNLOADS=$PWD/downloads

# Build directory where sources are unpacked for compiling
BUILDDIR=$PWD/build

# Necessary patches, default configfiles etc. are stored here
# (must be present before running scripts)
PATCHES=$PWD/patches

# The different programs and scripts install their static and shared libraries,
# binaries, header files, man pages etc. in here.
ROOTFS_STAGING=$PWD/rootfs_staging

# The final root filesystem goes here (run the create-rootfs scripts to fill it)
#MYROOTFS=/tftp/fs
MYROOTFS=$PWD/rootfs

################################################
### Crosstool settings (build a toolchain)
################################################
#
RESULT_TOP=$PWD/arm-linux-3.4.2-xt
TOOLCHAIN_VERSION="arm-softfloat.dat gcc-3.4.2-glibc-2.3.3.dat"
GCC_LANGUAGES="c,c++"

################################################
### Global Command defines
################################################
#
# wget command used to download sources
WGET="wget --passive-ftp --retry-connrefused --connect-timeout=5"

# Name of cross compiler/linker/...
# If you change this, also grep through the files in $PATCHES (patches&default configs) !
ARCH=arm
CROSS_HOST=$ARCH-linux

TARGET_CC="$CROSS_HOST-gcc"
TARGET_LD="$CROSS_HOST-ld"
TARGET_STRIP="$CROSS_HOST-strip"

# add -g for debugging
TARGET_CFLAGS="-Os -march=armv5te -mtune=xscale -Wa,-mcpu=xscale"

# host compiler
HOSTCC=gcc

#################################################
### Path to configured Linux kernel and version
#################################################
#
export KVERSBASE="2.6.9"	# used for building toolchain
export KVERS="$KVERSBASE-intc1-mih1"
export KERNEL_PATH="$PWD/../linux-$KVERS"

###########################################################################
### Comment out line if you don't want that package built (make_$pkg)
### Dependencies should be taken care, but I may have overlook something
### Packages named twice will still be built only once (.$pkg.successful)
###########################################################################
#
####################
# basic libraries, most of the dependencies should be taken care, but I may have overlooked something
####################
# MYMAKE_LIST="$MYMAKE_LIST jpeg"		# Library to load, handle and manipulate images in the JPEG format
# MYMAKE_LIST="$MYMAKE_LIST zlib libpng"	#
# MYMAKE_LIST="$MYMAKE_LIST libpcap"		# A system-independent library for user-level network packet capture
# MYMAKE_LIST="$MYMAKE_LIST zlib"		# Standard (de)compression library
# MYMAKE_LIST="$MYMAKE_LIST libusb"		# Userspace access to USB devices
#MYMAKE_LIST="$MYMAKE_LIST tslib"		# Touchscreen for embedded systems
# MYMAKE_LIST="$MYMAKE_LIST ncurses"		# console display library
# MYMAKE_LIST="$MYMAKE_LIST readline"		# Another console display library
# MYMAKE_LIST="$MYMAKE_LIST ncurses readline sqlite3"	# small SQL library, optional for opie

################
# system
################
#MYMAKE_LIST="$MYMAKE_LIST busybox"		# Utilities for rescue and embedded systems
#MYMAKE_LIST="$MYMAKE_LIST ncurses readline bash"	# The standard GNU Bourne again shell, may be required for some scripts to work
#MYMAKE_LIST="$MYMAKE_LIST moduleinittools"	# Kernel module tools for the development kernel >=2.5.48
#MYMAKE_LIST="$MYMAKE_LIST hotplug"		# USB hotplugging utilities
#MYMAKE_LIST="$MYMAKE_LIST acpid"		#
#MYMAKE_LIST="$MYMAKE_LIST libtool-native apm"	# Advanced Power Management daemon and scripts
#MYMAKE_LIST="$MYMAKE_LIST mtd-utils"		# host (mkfs.jffs2) and ARM flash tools
#MYMAKE_LIST="$MYMAKE_LIST pxaregs"		# access PXA2xx registers through command line interface
#MYMAKE_LIST="$MYMAKE_LIST inputattach"		# bind serial keyboards to input system
#MYMAKE_LIST="$MYMAKE_LIST libusb usbutils"	# bind serial keyboards to input system
#MYMAKE_LIST="$MYMAKE_LIST gdb"			# GNU command-line debugger (host and remote tools)

#MYMAKE_LIST="$MYMAKE_LIST strace"		# A useful diagnostic, instructional, and debugging tool
#MYMAKE_LIST="$MYMAKE_LIST tar"			# Use this to make tarballs, replaces buggy busybox tar
#MYMAKE_LIST="$MYMAKE_LIST dvfm"			# Dynamic Voltage and Frequency Scaling for XScale PXA2xx

#MYMAKE_LIST="$MYMAKE_LIST libglib12 mc"		# Midnight commander

#################
# communication
#################
#MYMAKE_LIST="$MYMAKE_LIST dhcpcd"		# A dhcp client
#MYMAKE_LIST="$MYMAKE_LIST pcmcia"		# PCMCIA tools for Linux
#MYMAKE_LIST="$MYMAKE_LIST wirelesstools"	# A collection of tools to configure wireless lan cards.

#MYMAKE_LIST="$MYMAKE_LIST pcmcia hostap-driver hostap-utils"	# HostAP wireless drivers and utilities
#MYMAKE_LIST="$MYMAKE_LIST pcmcia hostap-snapshot"	# Use this instead of hostap-driver and hostap-utils for
						# a more current version of HostAP including the hostap daemon
#MYMAKE_LIST="$MYMAKE_LIST hostap-prism_firmware"	# download and install prism2 firmware

#MYMAKE_LIST="$MYMAKE_LIST zlib dropbear"	# small SSH 2 server designed for small memory environments
#MYMAKE_LIST="$MYMAKE_LIST ppp"			# Point-to-Point protocol

#MYMAKE_LIST="$MYMAKE_LIST iptables"		# Linux kernel (2.4+) firewall, NAT and packet mangling tools
#MYMAKE_LIST="$MYMAKE_LIST bridge-utils"		# Linux network bridging configuring tools
#MYMAKE_LIST="$MYMAKE_LIST picocom"		# pico version of minicom, a serial line terminal
#MYMAKE_LIST="$MYMAKE_LIST ser2net"		# Serial To Network Proxy
#MYMAKE_LIST="$MYMAKE_LIST links"		# text console web browser

#############
# bluetooth
#############
#MYMAKE_LIST="$MYMAKE_LIST libusb bluez-libs bluez-utils"	# Bluetooth Userspace Libraries, Tools and System Daemons
#MYMAKE_LIST="$MYMAKE_LIST bluez-hcidump"	# bluetooth HCI package analyzer

################
# audio, image
################
#MYMAKE_LIST="$MYMAKE_LIST ncurses alsa"			# optional dep:ncurses
#MYMAKE_LIST="$MYMAKE_LIST ncurses aumix"		# Aumix volume/mixer control program for OSS, optional dep:ncurses
#MYMAKE_LIST="$MYMAKE_LIST libmad libid3tag madplay"	# "M"peg "A"udio "D"ecoder library and player
#MYMAKE_LIST="$MYMAKE_LIST libmad sox"		# The swiss army knife of sound processing programs, optional dep:libmad
#MYMAKE_LIST="$MYMAKE_LIST jpeg fbv"			# simple program to view pictures on a linux framebuffer device
#MYMAKE_LIST="$MYMAKE_LIST libsdl libglib12 ffmpeg libmpeg2 libid3tag libmad vlc"	# VideoLAN client (video player), does not compile with current toolchain!

###################################################################################
# GUIs
###################################################################################
MYMAKE_LIST="$MYMAKE_LIST jpeg zlib tslib openssl libpcap sqlite3 qte-opie"	# OPIE, a QT-Embedded/framebuffer based GUI
#
#  #########################
#  ## QT-Embedded and OPIE
#  #########################
#  Tested (and building) combinations:
#   - QTVER=2.3.10 & OPIE-CVS   with arm-linux-gcc 3.3.2, 3.4.2
#   - QTVER=2.3.10 & OPIE-1.2.0 with arm-linux-gcc 3.3.2, 3.4.2
#   - QTVER=2.3.8  & OPIE-1.1.9 with arm-linux-gcc 3.4.3
#
#     QT versions: 2.3.7 | 2.3.8 | 2.3.9 | 2.3.10
QTVER=2.3.10

#  OPIE version: 1.1.8 | 1.1.9 | 1.2.0 | CVS: leave OPIEDIR undefined
#  CVS only works with latest QT version due to missing older qt patches
OPIEVER=1.2.0
